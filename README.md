# لوحة تحكم المتجر

لوحة تحكم لإدارة المنتجات والطلبات والعملاء والمبيعات.

## التشغيل

### على جهازك (محلي)

إذا سبق أن نفّذت `npm install` وفشل، احذف `node_modules` ثم ثبّت من جديد:

```bash
cd c:\Users\Prof\Desktop\nodjs
rmdir /s /q node_modules
npm install
npm start
```

أو من PowerShell:
```powershell
Remove-Item -Recurse -Force node_modules -ErrorAction SilentlyContinue
npm install
npm start
```

**لوحة التحكم (محلي فقط):** http://localhost:3000/admin/login

- **اسم المستخدم:** `admin`
- **كلمة المرور:** `admin123`

غيّر كلمة المرور بعد أول دخول.

### بعد النشر على السيرفر

بعد ربط المشروع بالبيئة (مثلاً LibyanSpider)، استخدم رابط بيئتك، مثل:
**https://env-6069530.tip2.libyanspider.cloud/admin/login**

## المميزات

- **المنتجات:** إضافة/تعديل/حذف — صورة رئيسية، صور إضافية، الاسم (عربي/إنجليزي)، الوصف القصير والطويل، السعر، التخفيض، الشركة، التصنيف، المخزون، الحالة.
- **التصنيفات:** إدارة تصنيفات المنتجات من صفحة التصنيفات.
- **الطلبات:** استقبال الطلبات، إنشاء طلب جديد (عميل + منتجات متعددة)، عرض تفاصيل الطلب، تحديث الحالة (قيد الانتظار، مؤكد، تم الشحن، تم التوصيل، ملغي).
- **العملاء:** حفظ بيانات العملاء (الاسم، الرقم، الإيميل، العنوان)، إضافة/تعديل/حذف.
- **المبيعات:** مبيعات اليوم، الشهر، السنة؛ تقارير يومية (آخر 31 يوم)، شهرية، سنوية.

## هيكل المشروع

- `server.js` — نقطة الدخول
- `db/init.js` — إنشاء SQLite والجداول
- `routes/` — مسارات الأدمن، المنتجات، الطلبات، العملاء، المبيعات، التصنيفات
- `views/` — قوالب EJS (لوحة التحكم، المنتجات، الطلبات، العملاء، المبيعات، التصنيفات)
- `uploads/` — رفع صور المنتجات
- `data/` — ملف قاعدة البيانات `shop.db`

## البيئة

- Node.js + Express
- SQLite (sql.js — لا يحتاج Visual Studio أو أدوات بناء على Windows)
- EJS للقوالب
- Bootstrap 5 RTL للواجهة
