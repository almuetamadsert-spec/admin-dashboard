# تطبيق متجر Flutter (أندرويد)

تطبيق بسيط يعرض المنتجات من الـ API ويتيح إرسال الطلب (اسم العميل، هاتف، مدينة، عناصر).

## المتطلبات

- تثبيت [Flutter](https://flutter.dev/docs/get-started/install)
- السيرفر (Node) يعمل ويُصدّر مسارات: `/api/products`, `/api/cities`, `/api/orders`

## خطوات التشغيل

1. **توليد ملفات المنصات (مرة واحدة)**  
   داخل مجلد `store_app` نفّذ:
   ```bash
   flutter create . --project-name store_app
   ```
   إذا ظهرت رسالة أن الملفات موجودة، يمكنك اختيار عدم الاستبدال (لا تستبدل `lib/` و `pubspec.yaml`).

2. **تثبيت الحزم**
   ```bash
   flutter pub get
   ```

3. **تعديل إعدادات الـ API**  
   افتح `lib/config.dart` وعدّل:
   - **baseUrl**: عنوان السيرفر.  
     - من **محاكي أندرويد** على نفس الجهاز: استخدم `http://10.0.2.2:3000` (10.0.2.2 = localhost من داخل المحاكي).  
     - من **جهاز أندرويد حقيقي** على نفس الشبكة: استخدم `http://IP_الكمبيوتر:3000` (مثل `http://192.168.1.5:3000`).
   - **consumerKey** و **consumerSecret**: من لوحة التحكم → الإعدادات → مفاتيح API (مفتاح بصلاحية قراءة وكتابة).

4. **تشغيل التطبيق**
   ```bash
   flutter run
   ```
   (اختر جهاز أندرويد أو محاكي متصل.)

## ماذا يفعل التطبيق

- **شاشة المنتجات**: يعرض قائمة المنتجات من `GET /api/products` مع زر "إضافة" لكل منتج.
- **السلة**: أيقونة السلة في الشريط العلوي تعرض عدد العناصر وفتح شاشة السلة.
- **شاشة الطلب**: اسم العميل، الهاتف، اختيار المدينة من `GET /api/cities`، العنوان، ثم زر "إرسال الطلب" يُرسل `POST /api/orders`.

## ملاحظات

- تأكد أن الجدار الناري يسمح بالمنفذ 3000 إذا كان التطبيق على جهاز حقيقي.
- للمحاكي: السيرفر يجب أن يعمل على الكمبيوتر وأن يكون baseUrl = `http://10.0.2.2:3000`.
